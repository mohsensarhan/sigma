🔍 CURRENT STATE E2E TEST


1️⃣ ADMIN DASHBOARD
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
   Admin: {"loaded":true,"hasSlider":true,"canScroll":false,"sliderValue":"3"}
📸 01-admin

2️⃣ PAYMENT GATEWAY
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
   Donors: {"loaded":true,"donorCount":4,"buttonClicked":true}
  💬 💰 Donation recorded: Ahmed Hassan donated $50 → EFB-2025-1759670679540-8590
  💬 📱 Sending SMS to +201234567890: Thank you Ahmed Hassan! Your donation of $50 has been received. Track your journey here: http://localhost:5173/journey/EFB-2025-1759670679540-8590
  💬 [SMS] Queued to +201234567890: "Thank you Ahmed Hassan! Your donation of $50 has b..."
  💬 ✅ SMS sent with ID: SMS-1759670679541-1
  💬 🔵 registerJourney called for: EFB-2025-1759670679540-8590
  💬 🔵 BEFORE registration - settingsRef.current.activeJourneys.length: 0
  💬 🔵 INSIDE setSettings - prev.activeJourneys.length: 0
  💬 🔵 After registration, activeJourneys count: 1
  💬 🔵 AFTER setSettings called - settingsRef.current.activeJourneys.length: 0
  💬 ℹ️ [INFO] Journey registered: EFB-2025-1759670679540-8590 JSHandle@object
  💬 ℹ️ [INFO] Donation received: Ahmed Hassan donated $50 JSHandle@object
  💬 [SMS] Sent to +201234567890
  💬 [SMS] Delivered to +201234567890
📸 02-donation-triggered
   📦 Tracking ID: EFB-2025-1759670679540-8590

3️⃣ MAIN MAP
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 📊 DonationTracker: 0 active, 0 completed global journeys
   Map: {"hasMap":true,"hudText":"0 Active0 CompletedTotal: 0","activeCount":0,"markerCount":0}
📸 03-map-initial

4️⃣ JOURNEY PROGRESSION (waiting 10s)
📸 04-map-after-10s
   Map after 10s: {"hudText":"0 Active0 CompletedTotal: 0"}

5️⃣ SMS INBOX
  💬 📱 Retrieved 1 SMS messages from service
  💬 📊 Processed 1 SMS messages for display
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
   SMS: {"messageCount":1,"stats":{"delivered":"0","sent":"0"},"canScroll":false}
📸 05-sms-inbox

6️⃣ JOURNEY VIEWER
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
   Journey: {"loaded":true,"notFound":true,"h1":"Journey Not Found","canScroll":false}
📸 06-journey-viewer

7️⃣ ADMIN FINAL CHECK
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
  💬 🔵 getAllActiveJourneys called:
  💬    - settingsRef.current.activeJourneys.length: 0
  💬    - settings.activeJourneys.length: 0
   Admin Stats: {"active":"0","completed":"0","total":"0","errorLogCount":0}
📸 07-admin-final

═══════════════════════════════════
📊 TEST SUMMARY
═══════════════════════════════════
✅ Tests Completed: 6
⚠️  Issues Found: 2
📝 Relevant Logs: 52
❌ Errors: 0

🔴 ISSUES:
  1. Journey not showing on map - activeCount is 0
  2. Journey Viewer shows "Not Found"

📄 Report saved: ./test-results/current-state/report.json
═══════════════════════════════════

